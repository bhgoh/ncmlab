<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-intelligent_Ops/scale_up">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Lab 5 - Scaling Up | Nutanix NCM Labs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/ncmlab/intelligent_Ops/scale_up"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Lab 5 - Scaling Up | Nutanix NCM Labs"><meta data-rh="true" name="description" content="Sally has managed to resolve application performance and stability issues with her knowledge"><meta data-rh="true" property="og:description" content="Sally has managed to resolve application performance and stability issues with her knowledge"><link data-rh="true" rel="icon" href="/ncmlab/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/ncmlab/intelligent_Ops/scale_up"><link data-rh="true" rel="alternate" href="https://github.com/ncmlab/intelligent_Ops/scale_up" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/ncmlab/intelligent_Ops/scale_up" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/ncmlab/blog/rss.xml" title="Nutanix NCM Labs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ncmlab/blog/atom.xml" title="Nutanix NCM Labs Atom Feed"><link rel="stylesheet" href="/ncmlab/assets/css/styles.3c9372ee.css">
<link rel="preload" href="/ncmlab/assets/js/runtime~main.bd5ed9c7.js" as="script">
<link rel="preload" href="/ncmlab/assets/js/main.d3ad70ed.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ncmlab/"><div class="navbar__logo"><img src="/ncmlab/img/logo.svg" alt="NCM Labs" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ncmlab/img/logo.svg" alt="NCM Labs" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">NCM Labs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/bhgoh/ncmlab" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ncmlab/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/ncmlab/intro_ncm/create_project">NCM Labs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ncmlab/intro_ncm/create_project">Nutanix Self-Service</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/ncmlab/intelligent_Ops/scale_up">Intelligent Operations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ncmlab/intelligent_Ops/scale_up">Lab 5 - Scaling Up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ncmlab/intelligent_Ops/scale_out">Lab 6 - Scaling out</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ncmlab/intelligent_Ops/quarantine">Lab 7 - Automating Quarantine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/ncmlab/intelligent_Ops/monitoring">Lab 8 - Monitoring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ncmlab/cloud_native/nke">Cloud Native</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/ncmlab/appendix/devstation">Appendix</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ncmlab/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">NCM Labs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Intelligent Operations</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Lab 5 - Scaling Up</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Lab 5 - Scaling Up</h1></header><p>Sally has managed to resolve application performance and stability issues with her knowledge
accquire through Calm Blueprints and with application automation she has also helped &quot;bridge&quot; the
gap between the Developer and Infrastructure teams. However, in recent months, the infrastructure
team has seen a surge in tickets requesting on VM resource expansion. Some of these request occurs
over the weekends and some even in the late hours of workdays. As Sally has a track record of resolving
some critical issues in their IT operations, she has been tasked to look into the problem. </p><p>Sally discovers that there are two main issues that causes the surge in tickets logged:</p><ol><li><p>High CPU usages on the Engineering VMs is causing high latency in user experience. The bad
experience is causing ITOps to have to work over the hours to resolve the issues.</p></li><li><p>High peak traffic on the Web Farm is causing bad experiences on the users. Resulting in lost revenue,
peak period are also unpredictable, making ITops unable to cope with the demand.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="x-play">X-Play<a href="#x-play" class="hash-link" aria-label="Direct link to X-Play" title="Direct link to X-Play">​</a></h2><p>X-play is an easy to use automation tool that helps you to automate routine tasks,
and auto-remediate issues that may occur in your system. You can achieve this automation
by creating <strong>Playbooks</strong>.</p><p>Playbook allows you to define a trigger that results in the execution of an action or a series
of actions. A trigger may be an event that occurs in the system, such as an alert or a request
made by you. The resultant actions that you configure can be VM actions, communication actions,
alert actions, or report actions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="scaling-out-a-vm-resource">Scaling out a VM resource<a href="#scaling-out-a-vm-resource" class="hash-link" aria-label="Direct link to Scaling out a VM resource" title="Direct link to Scaling out a VM resource">​</a></h2><p>In this exercise, we setup a playbook to automate scale out on the vCPUs of a VM, resolve an alert
automatically and then sends a notification message to <strong>Slack</strong>. Although in this lab this capability
is demonstrated on a single VM, they can be applied across to a group of VMs based on their
categories.</p><h1>Integrating Slack</h1><p>Before we start creating alerts and playbooks in Prism Central, let&#x27;s get integrate Slack into Prism
Central.</p><h1>Creating a Slack application</h1><ol><li><p>Go to <a href="https://api.slack.com/apps" target="_blank" rel="noopener noreferrer">https://api.slack.com/apps</a>
If you do not have an account, please create an account and sign in.</p></li><li><p>Click <strong>Create an App</strong>.</p></li><li><p>Choose <strong>From scratch</strong> and give a name to the app.</p><ul><li><strong>App Name:</strong> e.g NTNX_Msg (or any random name you wish)</li><li><strong>Pick a workspace to develop your app in:</strong> - select your workspace you define</li><li>Click <strong>Create App</strong></li></ul></li><li><p>In the <strong>Basic Information</strong> menu, do the following:</p><ul><li>Click <strong>Add features and functionality</strong></li><li>Click <strong>Permissions</strong> &gt; <strong>Scope</strong> &gt; <ul><li><strong>User Token Scopes:</strong> chat:write</li></ul></li></ul></li><li><p>Back to *Basic Information** menu, do the following:</p><ul><li>Click <strong>Install to Workspace</strong>, under <strong>Install your app</strong>.</li><li>Once the page is being re-directed to <strong>My Workspace</strong> authorization page.</li><li>Click <strong>Allow</strong></li></ul><p><img loading="lazy" src="/ncmlab/assets/images/slack_autho-03900d232e3fb031c4b5c473236a9dc5.png" width="564" height="580" class="img_ev3q"></p></li><li><p>The purpose of this is to obtain the authorisation token.</p><ul><li>Go to the <strong>Install app</strong> </li><li>Note the <strong>OAuth Token for Your Workspace</strong>token, as you will be needing it for the next lab.</li></ul><p>You will be using this token each time you use the <strong>Slack</strong> action in playbook.</p></li><li><p>Create a channel from your workspace as the sceenshot below:</p><p><img loading="lazy" src="/ncmlab/assets/images/slack_channel-e3a8f460ed7291df93de191d902d8c46.png" width="815" height="194" class="img_ev3q"></p><p>Name your slack channel as: &quot;Alerts_your-initials&quot; </p></li></ol><h1>Create Alert</h1><p>Now, we will generate a policy that will generate an alert when it detects a constrained VM.</p><ol><li><p>In Prism Central, click <strong>Activity</strong> &gt; <strong>Alerts</strong>.</p></li><li><p>Under <strong>Alert Policies</strong> &gt; <strong>User Defined</strong>.</p></li><li><p>Click <strong>Create Alert Policy</strong>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>There are already four Windows machine pre-populated in the labs for your exercise. They are label
as WinSRV_ST01,ST02, ST03 and ST04 in each cluster.</p></div></div></li><li><p>Fill out the fields as follows:</p><ul><li><strong>Entity Type:</strong> VM</li><li><strong>Entity:</strong> One VM<ul><li>WinSRV_ST01 or WinSRV_ST02</li></ul></li><li><strong>Metric:</strong> CPU Usage
You will notice on the right panel of your screen. A CPU Usage policy window opens up.
In the fields below, fill in the following:<ul><li><strong>Behavioral Anomaly</strong><ul><li><strong>Every time there is an anomaly, alert</strong> - Critical       </li></ul></li><li><strong>Static Threshold</strong><ul><li><strong>Alert Critical if</strong> &gt; 80%</li></ul></li><li><strong>Trigger alert if conditions persist for:</strong> 0 Minutes</li></ul></li><li><strong>Policy Name:</strong> WinSrv_ST01 or 02 High vCPU Usage </li><li><strong>Impact Type:</strong> Performance </li><li><strong>Auto resolve alerts</strong> - unchecked the tick box
<img loading="lazy" src="/ncmlab/assets/images/alert_policy-d20e8a74197d6ba68fd55aa354b88a68.png" width="937" height="608" class="img_ev3q"></li></ul></li><li><p>Click <strong>Save</strong>.</p></li></ol><h1>Creating Policy</h1><ol><li><p>In Prism Central, click <strong>Operations</strong> &gt; <strong>Playbooks</strong>.</p></li><li><p>Click <strong>Create Playbook</strong>.</p></li><li><p>Select <strong>Alert</strong>.</p><ul><li>Under <strong>Select an Alert Policy</strong>. Search for the <strong>Alert</strong> name: WinSRV_ST01 or 02 High vCPU Usage </li><li><strong>Target VM:</strong> Specific VMs</li><li>Type <strong>WinSRV_ST01/02</strong>, depending on your chosen VM</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>. </p><ul><li>Select <strong>VM Recovery Point</strong>.</li><li><strong>Target VM:</strong> WinSRV_ST01 or 02</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>.</p><ul><li>Select <strong>Power off VM</strong>.</li><li><strong>Target VM:</strong> WinSRV_ST01 or 02</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>.</p><ul><li>Select <strong>VM Add CPU</strong>.</li><li><strong>Target VM:</strong> WinSRV_ST01 or 02</li><li><strong>vCPUs to Add:</strong> 2</li><li><strong>Maximum Number of vCPUs:</strong> 4
Note: we are trying to increase the vCPUs frm 2 to 4.</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>.</p><ul><li>Select <strong>Power On VM</strong>.</li><li><strong>Target VM:</strong> WinSRV_ST01 or 02</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>.</p><ul><li>Select <strong>Resolve Alert</strong>.</li><li><strong>Target Alert:</strong> Alert</li></ul></li><li><p>On the left panel, click <strong>+ Add Action</strong>.</p><ul><li>Select <strong>Slack</strong>.
This is the stage where you will be utilizating the slack token that you have created earlier.
Under <strong>Slack</strong> please fill out the following fields:<ul><li><strong>Slack Token</strong> : copy and paste the <strong>User OAuth Token</strong></li><li><strong>Channel Name :</strong> <em>your_channel_name</em></li><li>Copy and paste the following message into the <strong>Message</strong> field.</li></ul><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">The following VM has vCPUs increase from 2 to 4.   </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>Click <strong>Save &amp; Close</strong>  </p><ul><li><strong>Name:</strong> </li><li><strong>Playbook Status</strong> - please ensure you check to <strong>enable</strong> the playbook.</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing-your-playbook">Testing your Playbook.<a href="#testing-your-playbook" class="hash-link" aria-label="Direct link to Testing your Playbook." title="Direct link to Testing your Playbook.">​</a></h2><p>Now this is the time to test the playbook which you just created.</p><ol><li><p>In Prism Central, go to <strong>Compute &amp; Storage</strong> &gt; <strong>VMs</strong></p></li><li><p>Click on your allocated machine e.g WinSRV_ST01 or WinSRV_ST02</p></li><li><p>Click <strong> Launch Console</strong>.</p></li><li><p>Login into the machine with the password: nutanix/4u</p></li><li><p>At the desktop icon, click <strong>HeavyLoad</strong>.
<strong>HeavyLoad</strong> is a free stress test tool that enables us to simulate high stress load on the CPU
that is need for our exercise.</p></li><li><p>Once <strong>HeavyLoad</strong> is open, check on the stress test marker - cpu at the center of the screen.
<img loading="lazy" src="data:image/png;base64,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" width="167" height="102" class="img_ev3q"></p></li></ol><ol start="7"><li><p>Click on the green play button at the top left of the window.
<img loading="lazy" src="data:image/png;base64,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" width="110" height="54" class="img_ev3q"></p></li><li><p>You will immediately notice that load of the CPU will increase tremendously.</p></li><li><p>Minimize the console window and click <strong>Metrics</strong> in Prism Central window and observe the
CPU Usage(%) hitting 100%.</p></li><li><p>Next, open another Prism Central in a tab in your browser. </p></li><li><p>Go to <strong>Activity</strong> &gt; <strong>Alerts</strong> and wait for the alert to be generated. (it will usually take 5 mins or more)</p></li><li><p>Once the alert is generated, head back to the <strong>VM Metrics</strong> browser. Click *<em>Summary</em> and you will
notice that the vCPUs has increased from 2vCPUs to 4vCPUs.</p></li><li><p>Open up your <strong>Slack</strong> and you will notice a message coming through that says the VM has its CPU increased.</p></li></ol><p>Thats wraps up this exercise!!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bhgoh/ncmlab/docs/intelligent_Ops/scale_up.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/ncmlab/intro_ncm/marketplace"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lab 4 - Nutanix Marketplace</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ncmlab/intelligent_Ops/scale_out"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Lab 6 - Scaling out</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#x-play" class="table-of-contents__link toc-highlight">X-Play</a></li><li><a href="#scaling-out-a-vm-resource" class="table-of-contents__link toc-highlight">Scaling out a VM resource</a></li><li><a href="#testing-your-playbook" class="table-of-contents__link toc-highlight">Testing your Playbook.</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/ncmlab/assets/js/runtime~main.bd5ed9c7.js"></script>
<script src="/ncmlab/assets/js/main.d3ad70ed.js"></script>
</body>
</html>