"use strict";(self.webpackChunkncmlab=self.webpackChunkncmlab||[]).push([[750],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=a.createContext({}),l=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=l(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=l(n),h=i,d=m["".concat(p,".").concat(h)]||m[h]||g[h]||r;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))}));function d(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=h;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[m]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5162:(e,t,n)=>{n(7294)},2751:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var a=n(7462),i=(n(7294),n(3905));n(5162);const r={title:"Lab 8 - Monitoring"},o=void 0,s={unversionedId:"intelligent_Ops/monitoring",id:"intelligent_Ops/monitoring",title:"Lab 8 - Monitoring",description:"In the past few weeks, Sally has successfully demonstrated the scaling capabilies and helps to",source:"@site/docs/intelligent_Ops/monitoring.mdx",sourceDirName:"intelligent_Ops",slug:"/intelligent_Ops/monitoring",permalink:"/ncmlab/intelligent_Ops/monitoring",draft:!1,editUrl:"https://github.com/bhgoh/ncmlab/docs/intelligent_Ops/monitoring.mdx",tags:[],version:"current",frontMatter:{title:"Lab 8 - Monitoring"},sidebar:"tutorialSidebar",previous:{title:"Lab 7 - Automating Quarantine",permalink:"/ncmlab/intelligent_Ops/quarantine"},next:{title:"Lab 9 - Nutanix Kubernetes Engine - NKE",permalink:"/ncmlab/cloud_native/nke"}},p={},l=[{value:"Monitoring Configurations",id:"monitoring-configurations",level:2},{value:"Microsoft SQL Server Monitoring",id:"microsoft-sql-server-monitoring",level:2},{value:"App Discovery",id:"app-discovery",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}],c={toc:l},m="wrapper";function g(e){let{components:t,...r}=e;return(0,i.kt)(m,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In the past few weeks, Sally has successfully demonstrated the scaling capabilies and helps to\nprevent a malicious virus from propagating the company network. In the coming weeks, she has been\ntasked to monitor the situation and understand their how their application foot print has been\ngrowing so that they can plan for their growth. With the financial cycle refreshing Sally has\nlimited time to make a decision.In order to do that, Sally needs to understand how their\napplications are functioning in a much greater depth."),(0,i.kt)("h2",{id:"monitoring-configurations"},"Monitoring Configurations"),(0,i.kt)("p",null,"Application monitoring provides visibility into integrated applications by collecting application\nmetrics using Nutanix and third-party collectors, providing a single pane of glass for both\napplication and infrastructure data, correlating application instances with virtual infrastructure,\nand providing deep insights into applications performance metrics."),(0,i.kt)("p",null,"Application monitoring provides visibility into:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"VMWare vCenter Servers.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Microsoft SQL Server."))),(0,i.kt)("p",null,"In this short lab, we will turn on Microsoft SQL Server monitoring and subsequently ",(0,i.kt)("strong",{parentName:"p"},"Application Discovery"),"\nto enable us to discover application co-relation in their environment."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"There are already four Microsoft SQL Server instances that has been pre-configured for this exercise.\nPlease note the IP address of the SQL server instance you are assigned.")),(0,i.kt)("h2",{id:"microsoft-sql-server-monitoring"},"Microsoft SQL Server Monitoring"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Prism Central ")," console, go to ",(0,i.kt)("strong",{parentName:"p"},"Operations"),"> ",(0,i.kt)("strong",{parentName:"p"},"Monitoring Confgurations"),".\n",(0,i.kt)("img",{src:n(5139).Z,width:"802",height:"673"})),(0,i.kt)("p",{parentName:"li"},"If you see this splash screen, click ",(0,i.kt)("strong",{parentName:"p"},"Get Started")," to begin.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Configure New Instance")," to start adding an application instance.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Please fill out the following fields:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"External Entity Type:")," Microsoft SQL Server"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Microsoft SQL Server Host:")," ",(0,i.kt)("em",{parentName:"li"},"your assigned IP address")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Username:")," SQLSERVER\\administrator"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Password:")," Nutanix/4u"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click *Test Connection**.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Save"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the instance name."),(0,i.kt)("p",{parentName:"li"},"The instance name and the following set of tabs appear on the left: ",(0,i.kt)("strong",{parentName:"p"},"Summary"),", ",(0,i.kt)("strong",{parentName:"p"},"Alerts"),",\n",(0,i.kt)("strong",{parentName:"p"},"Events"),", ",(0,i.kt)("strong",{parentName:"p"},"Databases"),", ",(0,i.kt)("strong",{parentName:"p"},"Queries"),", and ",(0,i.kt)("strong",{parentName:"p"},"Metrics"),". Click a tab to display that information\non the right. (Click the Back to External Entity Instances link to return to the summary view.)\n",(0,i.kt)("img",{src:n(4819).Z,width:"963",height:"620"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the ",(0,i.kt)("strong",{parentName:"p"},"Databases")," tab.\n",(0,i.kt)("img",{src:n(2869).Z,width:"1215",height:"290"})," "),(0,i.kt)("p",{parentName:"li"},"Notice that without logging into the SQL server, you are able to have a view of the entire databases\nlocated in that instance. General information regarding the databases such as: ",(0,i.kt)("strong",{parentName:"p"},"Availablilty Group"),",\n",(0,i.kt)("strong",{parentName:"p"}," IOPS Rate"),", ",(0,i.kt)("strong",{parentName:"p"},"Space Availability percentage"),", ",(0,i.kt)("strong",{parentName:"p"},"Log File Used Percentage")," and ",(0,i.kt)("strong",{parentName:"p"},"Effective\nFree Space")," are all critical information to have right at your fingertips!"),(0,i.kt)("p",{parentName:"li"},"Click on the database, this will shows each individual database metrics."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{src:n(8921).Z,width:"1512",height:"620"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Next, click on ",(0,i.kt)("strong",{parentName:"p"},"Queries"),".\n",(0,i.kt)("img",{src:n(1016).Z,width:"948",height:"599"})),(0,i.kt)("p",{parentName:"li"},"This shows a list of queries that has been made to the databases. Notice that you can benchmark\nthe queries against its performances, with the vital information such as ",(0,i.kt)("strong",{parentName:"p"},"Avg Execution\nTime"),", ",(0,i.kt)("strong",{parentName:"p"},"Execution Count")," and the ",(0,i.kt)("strong",{parentName:"p"},"Last Execution Time and Duration"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Lastly, click on ",(0,i.kt)("strong",{parentName:"p"},"Metrics"),", this is where you will get all 16 related metrics.\nThese custom metrics are all related to a database use case where with a single glance, you\ncan spot issues related to performance or stability."))),(0,i.kt)("h2",{id:"app-discovery"},"App Discovery"),(0,i.kt)("p",null,"Another aspect of understanding the co-relation between the apps provisoned in the environment is\n",(0,i.kt)("strong",{parentName:"p"},"App Discovery"),". Application discovery provides the capability to discover applications in a\nspecified set of clusters, identify in which VM each application runs and what ports it uses, and\npublish that data to an internal database which is accessible through an external API call. You can\nmonitor applications in Nutanix, non-Nutanix (vCenter managed), or mixed (cluster with mixed\nhypervisors) environment."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Due to App Discovery being a cluster-wide feature. The setup is done only once. If you are one of the\nfirst to reach this stage of the please continue to follow the steps below.\nOtherwise, please read through the rest of this section.")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"To enable APP Disocvery, you first need to get an API key from my.nutanix.com:\n",(0,i.kt)("a",{parentName:"p",href:"https://my.nutanix.com/page/apikeys?action=create&source=Prism%20Ops"},"https://my.nutanix.com/page/apikeys?action=create&source=Prism%20Ops"),"\na. Click Create API Key\nb. ",(0,i.kt)("strong",{parentName:"p"},"Create API Key:")," ",(0,i.kt)("em",{parentName:"p"},"cluster name"),"-APIKey\nc. ",(0,i.kt)("strong",{parentName:"p"},"Scope:")," Prism Ops\nd. Click ",(0,i.kt)("strong",{parentName:"p"},"Create"),".\ne. The cluster API key will be generated"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"copy the API key and key ID to a safe place\n",(0,i.kt)("img",{src:n(613).Z,width:"395",height:"305"})))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In ",(0,i.kt)("strong",{parentName:"p"},"Prism Central"),", go to ",(0,i.kt)("strong",{parentName:"p"},"Operations"),"> ",(0,i.kt)("strong",{parentName:"p"},"Discovery"),".\n",(0,i.kt)("img",{src:n(1964).Z,width:"805",height:"666"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Do the following:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"I have increased the PC VM's Memory and vCPU. Let's get started:")," tick the check box"),(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Enable App Discovery")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Enter your API key and Key ID when prompted")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Select your cluster(s) from the list and click ",(0,i.kt)("strong",{parentName:"p"},"Discover Apps"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"OK, got it!")))),(0,i.kt)("p",null,"You will see some other apps running, this is part of the data that gets pre-seeded along with the\ninefficient VMs."),(0,i.kt)("p",null,"  ",(0,i.kt)("img",{src:n(7705).Z,width:"471",height:"400"})),(0,i.kt)("ol",{start:6},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"View App Instances"),". ")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"This will bring you to a list of all the apps running in the cluster."),(0,i.kt)("p",{parentName:"li"},(0,i.kt)("img",{src:n(7548).Z,width:"994",height:"557"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"The dashboard includes seven tabs at the top "),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Summary")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Discovered Apps")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Published Apps")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Policies")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"App Relationships")," "),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Monitored Clusters")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Alerts"),"\nwith a display area below for the selected tab."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on ",(0,i.kt)("strong",{parentName:"p"},"App Relationship"),".\n",(0,i.kt)("img",{src:n(9196).Z,width:"1199",height:"453"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"This auto filter list as seen above contains all newly discovered apps in the last 24 hours!\nThey are also automatically filter according to the most active. (notice the top app having 7\nrelationships)"))),(0,i.kt)("ol",{start:11},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on the first VM known as ",(0,i.kt)("strong",{parentName:"p"},"autoad"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the top banner menu, click on ",(0,i.kt)("strong",{parentName:"p"},"App Relationship")," to bring on a visual view on the\napplication.\n",(0,i.kt)("img",{src:n(658).Z,width:"1124",height:"745"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Do note of the ",(0,i.kt)("strong",{parentName:"p"},"ports")," the communication is being established between the apps."))),(0,i.kt)("p",null," Congratulations!!"),(0,i.kt)("h2",{id:"key-takeaways"},"Key Takeaways"),(0,i.kt)("p",null," With those insights that are provided, one can easily formulate the relationshsip between the applications whether if\nthey are deployed within a Nutanix cluster or an external VMWare environment. Those vital information can assist any\nIT Org to troubleshoot their existing operational issues, and to also project any future expenditure with ",(0,i.kt)("strong",{parentName:"p"},"Capacity Planning"),"\n(not covered in this lab) You can view them under ",(0,i.kt)("strong",{parentName:"p"},"Prism Central Menu")," > ",(0,i.kt)("strong",{parentName:"p"},"Operations")," > ",(0,i.kt)("strong",{parentName:"p"},"Planning")),(0,i.kt)("p",null," The apps relation can also assist any IT Org with their security planning by securing East-West bound traffic with\nmicro-segmentation."))}g.isMDXComponent=!0},613:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/api_key-6ff2f0bc82a9cabd6e0fc7504d6ef5a4.png"},9196:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/app_rel-7f06d93375a66e171366842070905718.png"},1964:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/apps_discovery-e1f431560c9b1d2cea37439b87d360c1.png"},2869:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/db_metrics-80e9f250b7899d6d1c5d3510b545613a.png"},7548:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/discover_list-90b6b0a0ee6a102f394a0deca3d5d490.png"},7705:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/discovered_apps-1e1546d986245f43ffbcfd4d8be8c96d.png"},8921:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ind_metrics-7d46fbfc8b818410c510d2457a0889b5.png"},5139:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/mon_config-95d6966cc81ccd7e10f0d169dd581ded.png"},1016:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/queries-f46f07f4d0be91d4d4ec2e29fa268c66.png"},4819:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/sql_mon-dd9b516cc0b9e4e6226523ab8c17e152.png"},658:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/visual-760b6e22f08dc9e286e5f1b608aa8669.png"}}]);